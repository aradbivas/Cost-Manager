{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\bivas\\\\Desktop\\\\Cost-Manager\\\\front\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\bivas\\\\Desktop\\\\Cost-Manager\\\\front\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\bivas\\\\Desktop\\\\Cost-Manager\\\\front\\\\front\\\\src\\\\Context\\\\auth-context.js\";\n\nimport React, { useReducer, createContext, useEffect } from 'react';\nexport var AuthContext = createContext();\nexport var authReducer = function authReducer(state, action) {\n  switch (action.type) {\n    case 'LOGIN':\n      {\n        return {\n          user: action.payload\n        };\n      }\n\n    case 'LOGOUT':\n      {\n        return {\n          user: null\n        };\n      }\n\n    default:\n      return state;\n  }\n};\nexport var AuthContextProvider = function AuthContextProvider(_ref) {\n  var children = _ref.children;\n\n  var _useReducer = useReducer(authReducer, {\n    user: null\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    var user = JSON.parse(localStorage.getItem('user'));\n\n    if (user) {\n      dispatch({\n        type: 'LOGIN',\n        payload: user\n      });\n    }\n  }, []);\n  console.log('Auth state: ', state);\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: _objectSpread({}, state, {\n      dispatch: dispatch\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, children);\n};","map":{"version":3,"names":["React","useReducer","createContext","useEffect","AuthContext","authReducer","state","action","type","user","payload","AuthContextProvider","children","dispatch","JSON","parse","localStorage","getItem","console","log"],"sources":["C:/Users/bivas/Desktop/Cost-Manager/front/front/src/Context/auth-context.js"],"sourcesContent":["import React, { useReducer, createContext, useEffect} from 'react';\r\n\r\nexport const AuthContext = createContext();\r\nexport const authReducer = (state,action) =>\r\n{\r\n    switch (action.type)\r\n    {\r\n        case 'LOGIN':\r\n        {\r\n            return {user: action.payload};\r\n        }\r\n        case 'LOGOUT':\r\n        {\r\n            return {user: null}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const AuthContextProvider = ({children}) =>\r\n{\r\n    const [state, dispatch] = useReducer(authReducer, {\r\n        user: null\r\n    })\r\n    useEffect(()=>\r\n    {\r\n        const user = JSON.parse(localStorage.getItem('user'));\r\n        if(user)\r\n        {\r\n            dispatch({type: 'LOGIN', payload: user})\r\n        }\r\n    }, [])\r\n    console.log('Auth state: ', state);\r\n    return (\r\n        <AuthContext.Provider value={{...state, dispatch}}>\r\n            { children }\r\n        </AuthContext.Provider>\r\n    )\r\n}"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,aAA5B,EAA2CC,SAA3C,QAA2D,OAA3D;AAEA,OAAO,IAAMC,WAAW,GAAGF,aAAa,EAAjC;AACP,OAAO,IAAMG,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAOC,MAAP,EAC3B;EACI,QAAQA,MAAM,CAACC,IAAf;IAEI,KAAK,OAAL;MACA;QACI,OAAO;UAACC,IAAI,EAAEF,MAAM,CAACG;QAAd,CAAP;MACH;;IACD,KAAK,QAAL;MACA;QACI,OAAO;UAACD,IAAI,EAAE;QAAP,CAAP;MACH;;IACD;MACI,OAAOH,KAAP;EAXR;AAaH,CAfM;AAgBP,OAAO,IAAMK,mBAAmB,GAAG,SAAtBA,mBAAsB,OACnC;EAAA,IADqCC,QACrC,QADqCA,QACrC;;EAAA,kBAC8BX,UAAU,CAACI,WAAD,EAAc;IAC9CI,IAAI,EAAE;EADwC,CAAd,CADxC;EAAA;EAAA,IACWH,KADX;EAAA,IACkBO,QADlB;;EAIIV,SAAS,CAAC,YACV;IACI,IAAMM,IAAI,GAAGK,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;;IACA,IAAGR,IAAH,EACA;MACII,QAAQ,CAAC;QAACL,IAAI,EAAE,OAAP;QAAgBE,OAAO,EAAED;MAAzB,CAAD,CAAR;IACH;EACJ,CAPQ,EAON,EAPM,CAAT;EAQAS,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4Bb,KAA5B;EACA,oBACI,oBAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,oBAAMA,KAAN;MAAaO,QAAQ,EAARA;IAAb,EAA3B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACMD,QADN,CADJ;AAKH,CAnBM"},"metadata":{},"sourceType":"module"}